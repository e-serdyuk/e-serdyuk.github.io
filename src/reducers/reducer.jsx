let data = [  
   {  
      "id":1,
      "first_name":"Alan",
      "last_name":"Patrick",
      "age":"34",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \
      tempor incididunt ut labore et dolore magna aliqua.  enim ad minim veniam, \
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
      consequat.  aute irure dolor reprehenderit voluptate velit esse \
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non \
      proident, sunt  culpa qui officia deserunt mollit anim id est laborum.",
      "date_registration":"19/02/17",
      "image":"../src/images/photo1.png",
      "isOnline":"false"
   },
   {  
      "id":2,
      "first_name":"Bob",
      "last_name":"Ellau",
      "age":"23",
      "description":"Lorem ipsum dolor sit amet, consecore et dolore magna aliqua. Ut enim ad minim veniam, \
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
consequat.",
      "date_registration":"24/06/17",
      "image":"../src/images/photo2.png",
      "isOnline":"true"
   },
   {  
      "id":3,
      "first_name":"Emmy",
      "last_name":"Watson",
      "age":"27",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \
tempor incididunt ut laborertertqua. Ut enim ad minim veniam, \
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
consequat.",
      "date_registration":"09/05/17",
      "image":"../src/images/photo3.png",
      "isOnline":"true"
   },
   {  
      "id":4,
      "first_name":"Aleksandler",
      "last_name":"Zikler",
      "age":"30",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \
te minim veniam,quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
consequat.",
      "date_registration":"09/07/17",
      "image":"../src/images/photo4.png",
      "isOnline":"true"
   },
   {  
      "id":5,
      "first_name":"Sibby",
      "last_name":"Zola",
      "age":"20",
      "description":"Lorem ipsum dolor sit amet, consectetm veniam,quis nostrud exercitation \
      aliquip ex ea commodo\
consequat.",
      "date_registration":"07/05/16",
       "image":"http://www.miabellaguzellik.com/wp-content/uploads/bfi_thumb/minoxidil-30htngxhbbrkug0ojdzi8a.jpg",
      "isOnline":"false"
   },
   {  
      "id":6,
      "first_name":"Alan",
      "last_name":"Watson",
      "age":"37",
      "description":"Lorng elit, sed do eiusmod \
tempor incididunt ut laborertertqua. Ut enim ad minim veniam, \
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
consequat.",
      "date_registration":"12/02/17",
       "image":"https://weightlosssurgeon.com/wp-content/uploads/2012/12/Letting-Weight-Loss-Surgery-Build-Your-Confidence.jpg",
      "isOnline":"false"
   },
   {  
      "id":7,
      "first_name":"Andrey",
      "last_name":"Welliton",
      "age":"25",
      "description":"Lorem ipsum dolor sit amminim veniam,quis nostrud exercitation ullamco laboris ni \
      aliquip ex ea commodo \
consequat.",
      "date_registration":"01/10/16",
       "image":"https://im0-tub-ua.yandex.net/i?id=02a12b156c65f0775bcb454d8c990af1&n=33&h=215&w=215",
      "isOnline":"true"
   },
   {  
      "id":8,
      "first_name":"Anna",
      "last_name":"Pavlik",
      "age":"22",
      "description":"L Ut enim ad minim veniam, \
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo \
consequat.",
      "date_registration":"09/11/16",
       "image":"http://www.invalirus.ru/uploads/fotos/foto_1432.png",
      "isOnline":"false"
   },
   {  
      "id":9,
      "first_name":"Emmy",
      "last_name":"Watson",
      "age":"27",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \
tempor incididuntp ex ea commodoconsequat.",
      "date_registration":"12/12/15",
       "image":"http://woodclan.ru/wp-content/uploads/2017/01/team7-270x270.jpg",
      "isOnline":"true"
   },
   {  
      "id":10,
      "first_name":"Anna",
      "last_name":"Kushnir",
      "age":"17",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \
tempor incididuntp ex ea commodoconsequat.",
      "date_registration":"02/12/16",
       "image":"http://www.miabellaguzellik.com/wp-content/uploads/bfi_thumb/featured-1-30h9gout4cussp8qgz5ybu.jpg",
      "isOnline":"true"
   }
]

let stories = [
   {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\
      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      "photo":"../src/images/photo5.png"

   },
      {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\
      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      "photo":"../src/images/photo6.png"

   },
      {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\
      cillum dolore eu fugiat nulla pariatur.lit anim id est laborum.",
      "photo":"https://files.dlyasvadbi.ru/crop/250x250/user_files/194/4d741f4d50e79a88a8f35a3511a322026ca33cde.jpg"

   },
      {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\
      quis nostrud eprehenderit in voluptate velit esse\
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\
      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      "photo":"http://tatiana-sirenko.com/wp-content/uploads/2016/12/Miniatyura-20-250x250.jpg"

   },
      {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor im ad minim veniam,\
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\
      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      "photo":"https://proper.gifts/61-home_default/fotosessiya-love-story.jpg"

   },
      {  
      "name":"Name LastName & Name Lastname",
      "description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\
      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\
      conate velit esse\
      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\
      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      "photo":"http://svadba.pro/images/photos/small/284adb3f574d4ec05694bef312100a9b.jpg"

   }

]
let newStoriesData=[stories[0],stories[1]]

                function matchesId(val) {
                if (val.isOnline=="true") {
                    return val
                }
            }
            let OnlineData = data.filter(matchesId);
           

const reducer = (state={blogs: null, data:data, newStoriesData,OnlineData}, action) => {

    switch(action.type) {
       
        case 'SEARCH': {
            var id = action.payload 
            var to;
            if(id.AgeTo=="To:"){to=99} else {to=id.AgeTo}
            if(id.Age=="Age:"){alert("Enter the age");
             return state;
            }
            else if(id.Age>id.AgeTo){alert("The age should be smaller than ageTo");
             return state;
            }
            else{
                function matchesId(val) {
                if (val.age > id.Age&&val.age<to) {
                    return val
                }
            }
            var newData = state.data.filter(matchesId);
            console.log(newData)
            alert("Please see the console. Found "+newData.length+" users")
             return {...state, newFilterData: newData} }
            break;
        }
        
        case 'STORIES': {
            var id = action.payload 
            if(id>3) id=id%3;

            var number1=id*2-2
            var number2=id*2-1
   
            var arr=[];
            arr[0]=stories[number1]
            arr[1]=stories[number2]



            return {...state, newStoriesData: arr}
            break;
        }
          case 'CHANGEBLOGS': {
          var id=state.blogs
          if(state.blogsToShow){var showed=state.blogsToShow}
          else {let showed=[id[0],id[1],id[2]]}
          
            function matchesId(val) {
                if (showed[0]!=val&&showed[1]!=val&&showed[2]!=val) {
                    return val}

            }
            var nData = id.filter(matchesId);


          function getRandomArbitrary(min, max) {
          var n=Math.random() * (max - min) + min;
        
         return Math.round(n)

         }
   



         var n=0;
         while(n==0){
    var arr=[nData[getRandomArbitrary(0, 5)],nData[getRandomArbitrary(0, 5)],nData[getRandomArbitrary(0, 5)]]
    if(arr[0]!==arr[1]&&arr[0]!==arr[2]&&arr[1]!==arr[2])
    n=1;

         }
          console.log(arr)
            return {...state, blogsToShow: arr}
            break;
        }
        case 'RECEIVE_USERS': {
        var id = action.payload
        var show=[id[0],id[1],id[2]]

            return {
                ...state,
                 blogs: action.payload,
                 blogsToShow:show
            }
            break;
        }

        default: {
            return state;
        }
    }
};

module.exports = reducer;